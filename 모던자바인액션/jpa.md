# JPA와 모던 데이터 저장 기술

1. SQL 중심적인 개발의 문제점

대부분은 객체지향 언어를 사용하고

관계형 DB를 사용한다.

ORACLE, MYSQL

정산 결제 ...
NOSQL는 필요에 의해

코드를 까보면 다 SQL...

SQL 중심적인 개발의 문제점

1. CRUD

INSERT INTO
UPDATE
SELECT 
DELECT

테이블 마다 다 해줘야함.

자바 객체를 SQL로 
SQL을 자바 객체로

컬럼 추가시 너무 힘듦...

Sql에 의존적인 개발을 피하기 어렵다.

패러다임의 불일치

객체 VS 관계형 데이터베이스

객체라는 것은 속성과 기능 필드와 매서드 같은 것이 묶여서
캡슐화해서 사용하는게 목표

추상화 캡슐화 정보은닉 상속 다형성...

객체의 저장

OBJECT -> RDB, NOSQL, FILE, OOJB(망한 기술)

파일로 저장 시
100만 개의 오브젝트를 다시 오브젝트로 만든 다음 검색해야함 언제검색해

그래서 객체를 SQL에 저장해야 하는데...

개발자가 sql매퍼의 일을 하고 있는 것이다.

객체는 상속 / DB는 PK,FK
객체는 레퍼런스 / B는 PK,FK
GETTER, SETTER

객체의 상속 관계와
TABLE의 슈퍼타입 서브타입 관계

테이블에 객체 저장

1. 객체 분해
2. INSERT INTO TABLE
3. INSERT INTO ALBUM

테이블에서 조회

조인 Sql 작성
각각 객체 생성
그래서 db 저장 객체에는 상속 관계를 사용하지 않음.

컬력션은 album = list.get()

Item item = list.get(albumId);

객체에서
멤버는 팀을 갖는다.
팀에서는 멤버 참조 불가
(use필드로 갖고 있으면...)

쿼리는 서로 FK PK 이용해서 찾을 수 있음.

우리는 그래서 객체를 테이블에 맞추어서 모델링함.

객체지향적으로 설계하면

조회할때 문제가 생김.

객체 모델링,
자바 컬렉션으로 관리하면 참 괜찮음.

엔티티 신뢰 문제

레이어드 아키텍처

sql을 직접 다루게되면
진정한 의미의 계층 분할이 어렵다.

객체지향의 패러다임의 핵심은
시스템을 구성하는 객체들에게 적절한 책임을 할당하는 것이다.

객체의 책임이란 객체가 외부에 재공하는 행동과 밀접한 관계가 있음.

객체지향의 세계는 행동이 주가 되는 세계.

Return On Investmen

# JPA?
java persistence API
자바진영 ORM 기술 표준
인터페이스 모음
JPA 2.1 표준 명세를 구현한 3가지 구현체
하이버네이트, EclipseLink...

객체는 객체대로
디비는 디비대로 데이터 중심

ORM 프레임워크가 중간에서 매핑

JPA는 애플리케이션과 JDBC 사이에서 동작

패러다임 불일치 해결

